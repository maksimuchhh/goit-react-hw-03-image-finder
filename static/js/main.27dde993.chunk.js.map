{"version":3,"sources":["components/ImageGallery/ImageGalleryItem/ImageGalleryItem.module.css","components/ImageGallery/ImageGallery.module.css","components/Button/Button.module.css","components/Modal/index.jsx","components/Searchbar/index.js","components/ImageGallery/ImageGalleryItem/index.jsx","components/Button/index.jsx","components/ImageGallery/index.js","App.js","index.js","components/Searchbar/Searchbar.module.css","components/Modal/Modal.module.css"],"names":["module","exports","Modal","src","closeModal","onClick","className","styles","Overlay","alt","SearchBar","state","query","onSubmit","this","props","Searchbar","SearchForm","evt","preventDefault","setState","type","SearchFormButton","SearchFormButtonLabel","value","SearchFormInput","autoComplete","autoFocus","placeholder","onChange","currentTarget","Component","ImageGalleryItem","element","openModal","console","log","webformatURL","ImageGalleryItemImage","Button","handleClick","override","css","ImageGallery","photos","page","status","lastPage","modalOpen","modalPhoto","el","largeImageURL","target","prevProps","prevState","fetch","then","res","json","data","hits","window","scrollTo","top","document","documentElement","scrollHeight","behavior","totalHits","length","addEventListener","code","map","id","size","color","loading","App","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.27dde993.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"ImageGalleryItem_ImageGalleryItem__2qoWa\",\"ImageGalleryItemImage\":\"ImageGalleryItem_ImageGalleryItemImage__3K8Z3\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__DncjJ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__3R1xi\"};","import React from \"react\";\nimport styles from \"./Modal.module.css\";\n\nexport default function Modal({ src, closeModal }) {\n  return (\n    <div onClick={closeModal} className={styles.Overlay}>\n      <div className={styles.Modal}>\n        <img src={src} alt=\"\" />\n      </div>\n    </div>\n  );\n}\n","import styles from \"./Searchbar.module.css\";\n\nimport React, { Component } from \"react\";\n\nclass SearchBar extends Component {\n  state = {\n    query: \"\",\n  };\n  render() {\n    const { onSubmit } = this.props;\n    return (\n      <header className={styles.Searchbar}>\n        <form\n          className={styles.SearchForm}\n          onSubmit={(evt) => {\n            evt.preventDefault();\n            onSubmit(this.state.query);\n            this.setState({ query: \"\" });\n          }}\n        >\n          <button type=\"submit\" className={styles.SearchFormButton}>\n            <span className={styles.SearchFormButtonLabel}>Search</span>\n          </button>\n\n          <input\n            value={this.state.query}\n            className={styles.SearchFormInput}\n            type=\"text\"\n            autoComplete=\"off\"\n            autoFocus\n            placeholder=\"Search images and photos\"\n            onChange={(evt) => {\n              this.setState({ query: evt.currentTarget.value });\n            }}\n          />\n        </form>\n      </header>\n    );\n  }\n}\n\nexport default SearchBar;\n","import React from \"react\";\nimport styles from \"./ImageGalleryItem.module.css\";\n\nexport default function ImageGalleryItem({ element, openModal }) {\n  return (\n    <li\n      onClick={() => {\n        console.log(\"Clicking!\");\n        openModal(element);\n      }}\n      className={styles.ImageGalleryItem}\n    >\n      <img\n        src={element.webformatURL}\n        alt=\"\"\n        className={styles.ImageGalleryItemImage}\n      />\n    </li>\n  );\n}\n","import React from \"react\";\nimport styles from \"./Button.module.css\";\n\nexport default function Button({ handleClick }) {\n  return (\n    <>\n      <button onClick={handleClick} className={styles.Button} type=\"button\">\n        Load more...\n      </button>\n    </>\n  );\n}\n","import React, { Component } from \"react\";\nimport ImageGalleryItem from \"./ImageGalleryItem\";\nimport BarLoader from \"react-spinners/BarLoader\";\nimport { css } from \"@emotion/core\";\nimport Button from \"../Button\";\nimport styles from \"./ImageGallery.module.css\";\nimport Modal from \"../Modal\";\n\nconst override = css`\n  display: block;\n  margin: 35px auto;\n  border-color: red;\n`;\nexport default class ImageGallery extends Component {\n  state = {\n    photos: [],\n    page: 1,\n    status: \"idle\",\n    lastPage: false,\n    modalOpen: false,\n    modalPhoto: \"\",\n  };\n  componentDidUpdate(prevProps, prevState) {\n    if (\n      prevProps.query !== this.props.query ||\n      prevState.page !== this.state.page\n    ) {\n      if (prevProps.query !== this.props.query) {\n        this.setState({\n          page: 1,\n          lastPage: false,\n        });\n      }\n      this.setState({ status: \"pending\" });\n      fetch(\n        `https://pixabay.com/api/?q=${this.props.query}&page=${this.state.page}&key=19216431-b460da2edf9faaa62085afedc&image_type=photo&orientation=horizontal&per_page=12`\n      )\n        .then((res) => res.json())\n        .then((data) => {\n          console.log(data);\n\n          if (this.state.page !== 1) {\n            this.setState({\n              photos: [...prevState.photos, ...data.hits],\n              status: \"resolved\",\n            });\n            window.scrollTo({\n              top: document.documentElement.scrollHeight,\n              behavior: \"smooth\",\n            });\n          } else {\n            this.setState({\n              photos: data.hits,\n              status: \"resolved\",\n            });\n          }\n          if (data.totalHits === this.state.photos.length) {\n            this.setState({ lastPage: true });\n          }\n        });\n    }\n  }\n  onClick = () => {\n    this.setState({ page: this.state.page + 1 });\n  };\n\n  openModal = (el) => {\n    this.setState({\n      modalOpen: true,\n      modalPhoto: el.largeImageURL,\n    });\n    console.log(this.state);\n  };\n\n  closeModal = (evt) => {\n    evt.target === evt.currentTarget &&\n      this.setState({\n        modalOpen: false,\n      });\n  };\n\n  render() {\n    window.addEventListener(\"keydown\", (evt) => {\n      evt.code === \"Escape\" && this.setState({ modalOpen: false });\n    });\n    const { status } = this.state;\n    if (status === \"idle\") {\n      return <div>Заполните поле для поиска</div>;\n    }\n    if (status === \"pending\") {\n      return (\n        <>\n          {this.state.photos.length > 0 && (\n            <ul className={styles.ImageGallery}>\n              {this.state.photos.map((el) => {\n                return <ImageGalleryItem key={el.id} element={el} />;\n              })}\n            </ul>\n          )}\n          <BarLoader\n            css={override}\n            size={150}\n            color={\"#123abc\"}\n            loading={true}\n          />\n        </>\n      );\n    }\n    if (status === \"resolved\") {\n      if (this.state.photos.length === 0) return <div>Ничего не найдено!</div>;\n      else {\n        return (\n          <>\n            <ul className={styles.ImageGallery}>\n              {this.state.photos.map((el) => {\n                return (\n                  <ImageGalleryItem\n                    openModal={this.openModal}\n                    key={el.id}\n                    element={el}\n                  />\n                );\n              })}\n            </ul>\n            {!this.state.lastPage && <Button handleClick={this.onClick} />}\n            {this.state.modalOpen && (\n              <Modal closeModal={this.closeModal} src={this.state.modalPhoto} />\n            )}\n          </>\n        );\n      }\n    }\n  }\n}\n","import React, { Component } from \"react\";\nimport Modal from \"./components/Modal\";\nimport SearchBar from \"./components/Searchbar\";\nimport ImageGallery from \"./components/ImageGallery\";\n\nexport default class App extends Component {\n  state = {\n    query: \"\",\n    status: \"idle\",\n  };\n  onSubmit = (query) => {\n    this.setState({ query: query });\n  };\n  render() {\n    return (\n      <>\n        <SearchBar onSubmit={this.onSubmit} />\n        <ImageGallery query={this.state.query} />\n        {/* <Modal /> */}\n      </>\n    );\n  }\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"SearchForm\":\"Searchbar_SearchForm__1ac2l\",\"SearchFormButton\":\"Searchbar_SearchFormButton__21S85\",\"SearchFormButtonLabel\":\"Searchbar_SearchFormButtonLabel__8f9cn\",\"SearchFormInput\":\"Searchbar_SearchFormInput__VhsfU\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__2AxMb\",\"Modal\":\"Modal_Modal__2WBTT\"};"],"sourceRoot":""}